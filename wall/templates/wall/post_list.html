<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="{% static 'styles.css' %}">
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB_Wh9y-iDmfYfB5xfA2dgu-ownSHL-AUo&callback=initMap">
    </script>

</head>
<body>
<h1>about something and nothing...</h1>
<h3>My Google Maps Demo</h3>
    <div class='map' id="map"></div>
    <script>
function initMap() {
        var uluru = {lat: 57, lng: 21};
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 12,
          center: uluru
        });
        var marker = new google.maps.Marker({
          position: uluru,
          map: map
        });
      }
</script>
<ul>
    {% for post in object_list %}
    <li>
        {{ post.date }}<br>
        {{ post.title }}<br>
        <img id="post-{{ forloop.counter }}" src="{{ post.image.url }}" alt="photo">
        <div class='map' id="map-{{ forloop.counter }}"></div>
    </li>
    <script>
    var url = $("#post-{{ forloop.counter }}").attr('src')
    .replace('/view?usp=drivesdk','')
    .replace('https://drive.google.com/file/d/', 'https://drive.google.com/uc?export=view&id=');
    $("#post-{{ forloop.counter }}").attr("src", url);

    function initialize() {
        var mapCanvas = document.getElementById('map-{{ forloop.counter }}');
    var mapOptions = {
      center: new google.maps.LatLng(44.5403, -78.5463),
      zoom: 8,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    }
    var map = new google.maps.Map(mapCanvas, map_options);
  }
      google.maps.event.addDomListener(window, 'load', initialize);
    </script>
    {% endfor %}
</ul>
</body>
</html>